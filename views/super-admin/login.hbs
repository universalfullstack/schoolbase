<!-- ===================== login.hbs ===================== -->
<div class="row valign-wrapper" style="min-height: 100vh;">
  <div class="col s12 m8 l4 offset-m2 offset-l4">

    <div class="card z-depth-4">
      <div class="card-content black-text">

        <!-- Header -->
        <div class="center-align">
          <img src="{{#if settings.branding.logo}}{{settings.branding.logo}}{{else}}/images/school-default.png{{/if}}" 
               alt="School Logo" 
               style="max-height:80px" />
          <h5 class="margin-top">Super Admin Login</h5>
          <p class="grey-text">Enter your credentials to continue</p>
        </div>

        <!-- Flash Messages -->
        {{> flashMessages }}

        <!-- Login Form -->
        <form action="/auth/login" method="POST">
          <input type="hidden" name="role" value="Super Admin" />

          <!-- Email or Phone -->
          <div class="input-field">
            <i class="material-icons prefix">person</i>
            <input id="identifier" name="identifier" type="text" required />
            <label for="identifier">Email or Phone</label>
          </div>

          <!-- Password -->
          <div class="input-field">
            <i class="material-icons prefix">lock</i>
            <input id="password" name="password" type="password" required />
            <label for="password">Password</label>
            <i class="material-icons suffix" id="togglePassword" style="cursor:pointer">visibility</i>
          </div>

          <!-- Remember Me -->
          <p>
            <label>
              <input type="checkbox" name="rememberMe" />
              <span>Remember Me</span>
            </label>
          </p>

          <!-- Submit -->
          <div class="input-field">
            <button type="submit" class="btn blue darken-2 waves-effect waves-light full-width">
              <i class="material-icons left">login</i>Login
            </button>
          </div>
        </form>

      </div>

      <div class="card-action center-align">
        <a href="/forgot-password">Forgot password?</a>
      </div>
    </div>

  </div>
</div>

{{#section "scripts"}}
<script>
  document.addEventListener('DOMContentLoaded', function () {
    const toggle = document.getElementById('togglePassword');
    const password = document.getElementById('password');

    if (toggle && password) {
      toggle.addEventListener('click', function () {
        const isPassword = password.type === 'password';
        password.type = isPassword ? 'text' : 'password';
        this.textContent = isPassword ? 'visibility_off' : 'visibility';
      });
    }
  });
</script>
{{/section}}
